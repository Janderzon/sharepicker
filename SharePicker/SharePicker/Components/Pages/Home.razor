@page "/"
@using SharePicker.Models
@using SharePicker.Services
@inject FinancialStatementRepository FinancialStatementRepository

<MudDataGrid Items="@_companies" Virtualize="true" Height="350px">
    <Columns>
        <PropertyColumn Property="company => company.Symbol" Title="Symbol" />
        <PropertyColumn Property="company => company.Name" Title="Name" />
        <PropertyColumn Property="company => company.Exchange.Name" Title="Exchange" />
        <PropertyColumn Property="company => company.Exchange.ShortName" Title="Exchange Short Name" />
    </Columns>
</MudDataGrid>

@code {
    private IEnumerable<Company>? _companies;

    protected override async Task OnInitializedAsync()
    {
        _companies = await FinancialStatementRepository.GetCompaniesAsync(CancellationToken.None);
    }
}
